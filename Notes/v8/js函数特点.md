# 函数及对象

函数是一种**特殊的对象**，js中的函数被称为**一等公民**

## js中的对象

js是**基于对象的**编程语言，但不是**面向对象的**编程语言，因为js不直接支持多态。

面向对象的语言支持封装，继承，多态。

js中的继承是通过为对象添加一个叫**原型**的属性，然后通过**原型**链接被继承的对象来实现继承。
这种继承方式称为基于原型链的继承。

js中的对象就是由**一组组属性和值**构成的集合。

对象中属性值的类型分为三类

- 原始类型
  
    原始类型的值无法被改变，如字符串，主要包括 ```null```，```undefined```，```boolean```，
```number```，```string```，```bigint```，```symbol```这七种。

- 对象类型

  对象的属性值可以是另外一个对象。

- 函数类型

  如果对象中的属性值是函数，则把这个属性称为方法（值是函数的属性）

## 函数的本质

函数是一种特殊的对象，有**属性和值**，又可以**被调用**

```JavaScript
function foo() {
  console.log(this)
}
foo()
```

也可以直接调用一个匿名函数
```JavaScript
(function (){
console.log(this)
})()
```

函数有两个隐藏属性 ```name``` 和 ```code```，```name```的值是函数的名字，
```code```的值是字符串类型的函数代码

由于函数**可被调用**，使得函数的**可赋值**，**可传参**和**可作为返回值**等特性变得有点麻烦。

在执行js函数的过程中，为了实现变量的查找，v8会维护一个作用域链，如果函数使用了某个变量，
但是在函数内部又没有定义该变量，v8就会沿着这个作用域链去外部的作用域中查找该变量。

当函数内部引用了外部函数的变量时，使用这个函数作为赋值，传惨或作为返回值，
需要确保这些被引用的外部变量是确实存在的，这就是让函数作为一等公民麻烦的地方，
因为虚拟机还要处理函数引用的外部变量。

这种将外部变量和函数绑定起来的技术称为**闭包**

## 什么叫函数是一等公民

在某个编程语言中，如果函数能和数据类型做一样的事情，则把这个语言中的函数称为一等公民。
